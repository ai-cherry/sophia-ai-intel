(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[804],{2826:function(e,t,s){Promise.resolve().then(s.bind(s,2137))},2137:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7573),l=s(7653);function n(){var e;let[t,s]=(0,l.useState)("chat"),[n,i]=(0,l.useState)([]),[d,o]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[u]=(0,l.useState)("session_".concat(Date.now())),[m,p]=(0,l.useState)(null),[b,y]=(0,l.useState)([]),g=(0,l.useRef)(null);(0,l.useEffect)(()=>{g.current=new WebSocket("ws://localhost:8096/ws/dashboard"),g.current.onmessage=e=>{let t=JSON.parse(e.data);"swarm.update"===t.type&&y(e=>[...e,t])};let e=setInterval(async()=>{if("api_health"===t){let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:"check health status"}],session_id:u})});e.ok&&p((await e.json()).sections)}},5e3);return()=>{var t;null===(t=g.current)||void 0===t||t.close(),clearInterval(e)}},[t,u]);let j=async()=>{if(!d.trim()||h)return;let e={role:"user",content:d};i(t=>[...t,e]),o(""),x(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...n,e],session_id:u,tenant:"default"})});if(t.ok){let e=await t.json();i(t=>[...t,{role:"assistant",content:e.sections.summary||"Processing...",sections:e.sections}])}}catch(e){console.error("Chat error:",e)}finally{x(!1)}};return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-950",children:[(0,a.jsxs)("div",{className:"w-64 bg-slate-900 border-r border-cyan-500/20 p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-cyan-400 mb-8",children:"SOPHIA SUPREME"}),(0,a.jsx)("nav",{className:"space-y-2",children:[{id:"chat",label:"Chat",icon:"\uD83D\uDCAC"},{id:"api_health",label:"API Health",icon:"\uD83D\uDD27"},{id:"agent_factory",label:"Agent Factory",icon:"\uD83E\uDD16"},{id:"swarm_monitor",label:"Swarm Monitor",icon:"\uD83D\uDC1D"},{id:"code",label:"Code",icon:"\uD83D\uDCDD"},{id:"metrics",label:"Metrics",icon:"\uD83D\uDCCA"}].map(e=>(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ".concat(t===e.id?"bg-cyan-500/20 text-cyan-400 border-l-4 border-cyan-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:["chat"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:n.map((e,t)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-3xl rounded-2xl p-4 ".concat("user"===e.role?"bg-cyan-600/20 text-cyan-100":"bg-purple-600/20 text-purple-100"),children:[(0,a.jsx)("div",{className:"mb-2",children:e.content}),e.sections&&(0,a.jsx)(r,{sections:e.sections})]})},t))}),(0,a.jsx)("div",{className:"border-t border-white/10 p-4",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),placeholder:"Ask Sophia anything...",className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/40"}),(0,a.jsx)("button",{onClick:j,disabled:h,className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 rounded-xl text-white font-medium transition-colors",children:h?"...":"Send"})]})})]}),"api_health"===t&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"API Health Status"}),null==m?void 0:null===(e=m.actions)||void 0===e?void 0:e.map((e,t)=>(0,a.jsx)("div",{className:"p-4 mb-3 rounded-xl border ".concat("healthy"===e.status?"bg-green-900/20 border-green-500/30":"unhealthy"===e.status?"bg-yellow-900/20 border-yellow-500/30":"bg-red-900/20 border-red-500/30"),children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white",children:e.id}),(0,a.jsx)("span",{className:"font-medium ".concat("healthy"===e.status?"text-green-400":"unhealthy"===e.status?"text-yellow-400":"text-red-400"),children:e.status})]})},t))]}),"agent_factory"===t&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Agent Factory"}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("textarea",{placeholder:"Describe the task for your agents...",className:"w-full h-32 bg-white/5 border border-white/10 rounded-xl p-4 text-white resize-none"}),(0,a.jsx)("button",{className:"mt-4 px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-xl text-white font-medium",children:"Deploy Swarm"})]})]}),"swarm_monitor"===t&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Swarm Monitor"}),(0,a.jsx)("div",{className:"space-y-3",children:b.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-cyan-400 font-medium",children:e.swarm_id}),(0,a.jsx)("span",{className:"text-gray-400",children:e.type})]}),e.data&&(0,a.jsx)("div",{className:"text-sm text-gray-300",children:JSON.stringify(e.data)})]},t))})]}),"code"===t&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Code Viewer"}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-xl p-6 font-mono text-sm text-gray-300",children:(0,a.jsx)("div",{children:"No active code changes"})})]}),"metrics"===t&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"System Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,a.jsx)(c,{label:"Chat Latency p95",value:"1.8s",trend:"down"}),(0,a.jsx)(c,{label:"Error Rate",value:"0.2%",trend:"stable"}),(0,a.jsx)(c,{label:"Active Swarms",value:"4",trend:"up"})]})]})]})]})}function r(e){let{sections:t}=e;return(0,a.jsxs)("div",{className:"space-y-3 mt-3",children:[t.actions&&t.actions.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.actions.map((e,t)=>(0,a.jsxs)("span",{className:"px-3 py-1 bg-cyan-600/30 rounded-full text-xs text-cyan-300",children:[e.type," ",e.status&&"(".concat(e.status,")")]},t))}),t.research&&t.research.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:t.research.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-3",children:[(0,a.jsx)("a",{href:e.url,className:"text-cyan-400 hover:underline",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.source})]},t))}),t.github&&(0,a.jsx)("div",{className:"bg-green-600/20 rounded-lg p-3",children:t.github.pr_url&&(0,a.jsx)("a",{href:t.github.pr_url,className:"text-green-400 hover:underline",children:"View Pull Request →"})})]})}function c(e){let{label:t,value:s,trend:l}=e;return(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:t}),(0,a.jsx)("div",{className:"text-3xl font-bold text-white",children:s}),(0,a.jsx)("div",{className:"text-sm mt-2 ".concat("up"===l?"text-green-400":"down"===l?"text-red-400":"text-gray-400"),children:"up"===l?"↑":"down"===l?"↓":"→"})]})}}},function(e){e.O(0,[293,286,744],function(){return e(e.s=2826)}),_N_E=e.O()}]);