(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{8961:function(e,t,s){Promise.resolve().then(s.bind(s,459))},459:function(e,t,s){"use strict";s.d(t,{default:function(){return r}});var n=s(7573),a=s(7653);function r(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[d,l]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),[o,u]=(0,a.useState)("reindex"),m=async()=>{t([{id:"1",type:"reindex",status:"running",started_at:new Date().toISOString(),progress:50},{id:"2",type:"knowledge_sync",status:"queued",started_at:new Date().toISOString(),progress:0}]),r([{id:"3",type:"reindex",status:"completed",started_at:new Date().toISOString(),completed_at:new Date().toISOString(),progress:100},{id:"4",type:"eval_run",status:"failed",started_at:new Date().toISOString(),completed_at:new Date().toISOString(),progress:100}])};(0,a.useEffect)(()=>{m();let e=setInterval(m,5e3);return()=>clearInterval(e)},[]);let x=async()=>{l(!0),c(null);try{await new Promise(e=>setTimeout(e,1e3)),alert('Job "'.concat(o,'" started!'))}catch(e){c("Failed to start job: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{l(!1)}},b=e=>{switch(e){case"queued":return"bg-gray-500";case"running":return"bg-blue-500";case"completed":return"bg-green-500";case"failed":return"bg-red-500"}};return(0,n.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6 pb-4 border-b",children:[(0,n.jsx)("h3",{className:"text-xl font-bold",children:"\uD83D\uDD27 Jobs Management"}),(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsxs)("select",{value:o,onChange:e=>u(e.target.value),className:"p-2 border rounded-md text-sm",children:[(0,n.jsx)("option",{value:"reindex",children:"\uD83D\uDD04 Reindex Symbols"}),(0,n.jsx)("option",{value:"knowledge_sync",children:"\uD83D\uDCDA Knowledge Sync"}),(0,n.jsx)("option",{value:"eval_run",children:"\uD83E\uDDEA Eval Run"}),(0,n.jsx)("option",{value:"canary_check",children:"\uD83D\uDC24 Canary Check"})]}),(0,n.jsx)("button",{onClick:x,disabled:d,className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-md disabled:bg-gray-400",children:d?"Starting...":"▶️ Run Now"})]})]}),i&&(0,n.jsxs)("div",{className:"p-4 mb-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:[(0,n.jsx)("strong",{children:"Error:"})," ",i]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h4",{className:"font-semibold mb-3",children:["Active Jobs (",e.length,")"]}),(0,n.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,n.jsxs)("div",{className:"p-3 bg-gray-50 rounded-md border",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"font-semibold",children:e.type.replace("_"," ")}),(0,n.jsx)("span",{className:"px-2 py-1 text-xs text-white rounded-full ".concat(b(e.status)),children:e.status})]}),"running"===e.status&&(0,n.jsx)("div",{className:"mt-2 h-2 bg-gray-200 rounded-full",children:(0,n.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"".concat(e.progress,"%")}})})]},e.id))})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("h4",{className:"font-semibold mb-3",children:["Job History (",s.length,")"]}),(0,n.jsx)("div",{className:"space-y-2 text-sm text-gray-600",children:s.map(e=>(0,n.jsxs)("div",{className:"flex justify-between p-2 rounded-md bg-gray-50 border",children:[(0,n.jsx)("span",{children:e.type.replace("_"," ")}),(0,n.jsx)("span",{className:"font-semibold ".concat("completed"===e.status?"text-green-600":"text-red-600"),children:e.status})]},e.id))})]})]})}}},function(e){e.O(0,[293,286,744],function(){return e(e.s=8961)}),_N_E=e.O()}]);