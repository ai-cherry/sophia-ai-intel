(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{5986:function(e,t,s){Promise.resolve().then(s.bind(s,1213))},1213:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(7573),a=s(7653),n=s(8811);function l(){let[e,t]=(0,a.useState)(new Map),[s,l]=(0,a.useState)([]),[c,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(x(),o){let e=setInterval(x,5e3);return()=>clearInterval(e)}},[o]);let x=async()=>{try{let e=await n.$.listSwarms(),s=new Map;e.forEach(e=>{s.set(e.swarm_id,e),"completed"!==e.status&&"error"!==e.status?n.$.subscribeToSwarm(e.swarm_id,s=>{t(t=>{let r=new Map(t);return r.set(e.swarm_id,s),r}),("completed"===s.status||"error"===s.status)&&l(e=>[s,...e].slice(0,50))}):l(t=>t.find(t=>t.swarm_id===e.swarm_id)?t:[e,...t].slice(0,50))}),t(s)}catch(e){console.error("Failed to load swarms:",e)}},m=async e=>{await n.$.stopSwarm(e)&&await x()},u=e=>{switch(e){case"completed":return"text-green-400 bg-green-900/30";case"error":return"text-red-400 bg-red-900/30";case"executing":return"text-yellow-400 bg-yellow-900/30";default:return"text-gray-400 bg-gray-900/30"}},h=e=>{switch(e){case"completed":return"from-green-600 to-green-400";case"error":return"from-red-600 to-red-400";case"executing":return"from-yellow-600 to-yellow-400";default:return"from-purple-600 to-cyan-600"}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Swarm Monitor"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Real-time swarm orchestration monitoring"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>d(!o),className:"px-4 py-2 rounded-lg transition ".concat(o?"bg-green-600/20 text-green-400 border border-green-600/50":"bg-gray-700 text-gray-300"),children:["Auto-refresh: ",o?"ON":"OFF"]}),(0,r.jsx)("button",{onClick:x,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:"Refresh Now"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 border border-purple-500/20",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-white",children:e.size}),(0,r.jsx)("div",{className:"text-sm text-gray-400",children:"Active Swarms"})]}),(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 border border-purple-500/20",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-400",children:Array.from(e.values()).filter(e=>"completed"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-400",children:"Completed"})]}),(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 border border-purple-500/20",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:Array.from(e.values()).filter(e=>"executing"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-400",children:"Executing"})]}),(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-4 border border-purple-500/20",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-400",children:Array.from(e.values()).filter(e=>"error"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-400",children:"Errors"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Active Swarms"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from(e.values()).filter(e=>"completed"!==e.status&&"error"!==e.status).map(e=>(0,r.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 border border-purple-500/20 hover:border-purple-500/40 transition cursor-pointer",onClick:()=>i(e),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-white font-semibold",children:e.swarm_type}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",e.swarm_id.slice(0,12),"..."]})]}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(u(e.status)),children:e.status})]}),e.current_task&&(0,r.jsx)("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:e.current_task}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Progress"}),(0,r.jsxs)("span",{className:"text-cyan-400",children:[Math.round(100*e.progress),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(h(e.status)," transition-all"),style:{width:"".concat(100*e.progress,"%")}})})]}),e.agents&&e.agents.length>0&&(0,r.jsxs)("div",{className:"mt-3 flex gap-2 flex-wrap",children:[e.agents.slice(0,3).map(e=>(0,r.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-800 rounded text-gray-300",children:e.role},e.id)),e.agents.length>3&&(0,r.jsxs)("span",{className:"text-xs px-2 py-1 bg-gray-800 rounded text-gray-400",children:["+",e.agents.length-3," more"]})]}),(0,r.jsx)("div",{className:"mt-4 flex gap-2",children:(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),m(e.swarm_id)},className:"text-xs px-3 py-1 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded transition",children:"Stop"})})]},e.swarm_id))}),0===Array.from(e.values()).filter(e=>"completed"!==e.status&&"error"!==e.status).length&&(0,r.jsxs)("div",{className:"text-center py-12 bg-black/30 backdrop-blur rounded-xl border border-purple-500/20",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDC1D"}),(0,r.jsx)("p",{className:"text-gray-400",children:"No active swarms"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Deploy agents from the Agent Factory to see them here"})]})]}),s.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"History"}),(0,r.jsx)("div",{className:"bg-black/30 backdrop-blur rounded-xl border border-purple-500/20 overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-purple-900/20",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left px-4 py-3 text-sm text-gray-300",children:"Type"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-sm text-gray-300",children:"ID"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-sm text-gray-300",children:"Status"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-sm text-gray-300",children:"Task"})]})}),(0,r.jsx)("tbody",{children:s.map((e,t)=>(0,r.jsxs)("tr",{className:"border-t border-purple-500/10 hover:bg-purple-900/10 cursor-pointer",onClick:()=>i(e),children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.swarm_type}),(0,r.jsxs)("td",{className:"px-4 py-3 text-xs text-gray-400 font-mono",children:[e.swarm_id.slice(0,12),"..."]}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(u(e.status)),children:e.status})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-400 truncate max-w-xs",children:e.current_task||"-"})]},t))})]})})]}),c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur flex items-center justify-center p-8 z-50",onClick:()=>i(null),children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-purple-500/30",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Swarm Details"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:c.swarm_type})]}),(0,r.jsx)("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-white transition",children:"âœ•"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"ID"}),(0,r.jsx)("p",{className:"text-white font-mono text-sm",children:c.swarm_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Status"}),(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(u(c.status)),children:c.status})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Progress"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(h(c.status)," transition-all rounded-full"),style:{width:"".concat(100*c.progress,"%")}})}),(0,r.jsxs)("p",{className:"text-xs text-cyan-400 mt-1",children:[Math.round(100*c.progress),"%"]})]})]}),c.current_task&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Current Task"}),(0,r.jsx)("p",{className:"text-white text-sm",children:c.current_task})]}),c.agents&&c.agents.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Agents"}),(0,r.jsx)("div",{className:"mt-2 space-y-2",children:c.agents.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-800 rounded",children:[(0,r.jsx)("span",{className:"text-white text-sm",children:e.role}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("active"===e.status?"bg-green-900/30 text-green-400":"bg-gray-700 text-gray-400"),children:e.status})]},e.id))})]}),c.results&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Results"}),(0,r.jsx)("pre",{className:"mt-2 p-3 bg-gray-800 rounded text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(c.results,null,2)})]}),c.error&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400",children:"Error"}),(0,r.jsx)("div",{className:"mt-2 p-3 bg-red-900/20 rounded text-sm text-red-400",children:c.error})]})]})]})})]})})}},8811:function(e,t,s){"use strict";s.d(t,{$:function(){return c},F:function(){return a}});var r,a,n=s(3875);(r=a||(a={})).CODING="coding",r.RESEARCH="research",r.ANALYSIS="analysis",r.PLANNING="planning";class l{subscribeToSwarm(e,t){if(this.websockets.has(e)){var s;null===(s=this.websockets.get(e))||void 0===s||s.close()}let r=new WebSocket("".concat(this.baseUrl,"/ws/swarm/").concat(e));return r.onopen=()=>{console.log("Connected to swarm ".concat(e))},r.onmessage=e=>{try{let s=JSON.parse(e.data);t(s)}catch(e){console.error("Failed to parse swarm message:",e)}},r.onerror=t=>{console.error("WebSocket error for swarm ".concat(e,":"),t)},r.onclose=()=>{console.log("Disconnected from swarm ".concat(e)),this.websockets.delete(e)},this.websockets.set(e,r),()=>{r.close(),this.websockets.delete(e)}}async listSwarms(){try{let e=await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/swarms"));if(!e.ok)throw Error("Failed to fetch swarms");return await e.json()}catch(e){return console.error("Failed to list swarms:",e),[]}}async getSwarmStatus(e){try{let t=await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/swarms/").concat(e,"/status"));if(!t.ok)throw Error("Failed to fetch swarm status");return await t.json()}catch(e){return console.error("Failed to get swarm status:",e),null}}async createSwarm(e){try{let t=await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/swarms/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create swarm");let s=await t.json();return{success:!0,swarm_id:s.swarm_id}}catch(e){return console.error("Failed to create swarm:",e),{success:!1,swarm_id:""}}}async generatePlans(e){try{let t=await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/swarms/plans"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:e})});if(!t.ok)throw Error("Failed to generate plans");return await t.json()}catch(t){return console.error("Failed to generate plans:",t),{task:e,plans:{cutting_edge:{plan:"Failed to generate plan",risk_assessment:null,artifacts:[]},conservative:{plan:"Failed to generate plan",risk_assessment:null,artifacts:[]},synthesis:{plan:"Failed to generate plan",risk_assessment:null,artifacts:[]}},recommendation:"Unable to generate plans at this time"}}}async stopSwarm(e){try{return(await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/swarms/").concat(e,"/stop"),{method:"POST"})).ok}catch(e){return console.error("Failed to stop swarm:",e),!1}}async listAgents(){try{let e=await fetch("".concat(this.baseUrl.replace("ws://","http://").replace("wss://","https://"),"/agents"));if(!e.ok)throw Error("Failed to fetch agents");return await e.json()}catch(e){return console.error("Failed to list agents:",e),[{id:"research-1",name:"Research Agent",type:"research",capabilities:["web_search","summarization","citation"]},{id:"code-1",name:"Code Generator",type:"coding",capabilities:["python","javascript","testing"]},{id:"plan-1",name:"Planning Agent",type:"planning",capabilities:["strategy","architecture","roadmap"]},{id:"analyze-1",name:"Analysis Agent",type:"analysis",capabilities:["data_analysis","visualization","insights"]}]}}disconnect(){this.websockets.forEach((e,t)=>{e.close()}),this.websockets.clear()}constructor(){this.websockets=new Map,this.baseUrl=n.env.NEXT_PUBLIC_SWARM_WS_URL||"ws://localhost:8100"}}let c=new l},3875:function(e,t,s){"use strict";var r,a;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(a=s.g.process)?void 0:a.env)?s.g.process:s(3928)},3928:function(e){!function(){var t={229:function(e){var t,s,r,a=e.exports={};function n(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{s="function"==typeof clearTimeout?clearTimeout:l}catch(e){s=l}}();var i=[],o=!1,d=-1;function x(){o&&r&&(o=!1,r.length?i=r.concat(i):d=-1,i.length&&m())}function m(){if(!o){var e=c(x);o=!0;for(var t=i.length;t;){for(r=i,i=[];++d<t;)r&&r[d].run();d=-1,t=i.length}r=null,o=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];i.push(new u(e,t)),1!==i.length||o||c(m)},u.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},s={};function r(e){var a=s[e];if(void 0!==a)return a.exports;var n=s[e]={exports:{}},l=!0;try{t[e](n,n.exports,r),l=!1}finally{l&&delete s[e]}return n.exports}r.ab="//";var a=r(229);e.exports=a}()}},function(e){e.O(0,[293,286,744],function(){return e(e.s=5986)}),_N_E=e.O()}]);