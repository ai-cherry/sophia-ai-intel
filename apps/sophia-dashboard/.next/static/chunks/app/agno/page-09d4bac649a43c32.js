(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{8986:function(e,t,a){Promise.resolve().then(a.bind(a,4758))},4758:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7573),r=a(7653),l=a(7662),i=a(5458);function n(){let[e,t]=(0,r.useState)("chat"),[a,n]=(0,r.useState)([]),[d,x]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[p]=(0,r.useState)("agno_".concat(Date.now())),[u,b]=(0,r.useState)([]),[y,g]=(0,r.useState)([]),[f,v]=(0,r.useState)(null),w=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,r.useEffect)(()=>(w.current=new WebSocket("ws://localhost:8096/ws/dashboard"),w.current.onopen=()=>{var e;console.log("AGNO WebSocket connected"),null===(e=w.current)||void 0===e||e.send(JSON.stringify({type:"subscribe",session_id:p}))},w.current.onmessage=e=>{let t=JSON.parse(e.data);("swarm.update"===t.type||"pipeline.progress"===t.type)&&g(e=>[...e.slice(-19),t]),"health.update"===t.type&&b(t.services),"analytics.update"===t.type&&v(t)},()=>{var e;null===(e=w.current)||void 0===e||e.close()}),[p]),(0,r.useEffect)(()=>{var e;null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[a]),(0,r.useEffect)(()=>{if("api_health"===e){let e=setInterval(async()=>{try{let e=await fetch("http://localhost:8400/health");if(e.ok){let t=await e.json();b(t)}}catch(e){console.error("Health check failed:",e)}},3e3);return()=>clearInterval(e)}},[e]);let N=(0,r.useCallback)(async()=>{if(!d.trim()||h)return;let t={role:"user",content:d,timestamp:new Date().toISOString()};n(e=>[...e,t]),x(""),m(!0);try{let t=await fetch("http://localhost:8400/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d,session_id:p,context:{tab:e}})});if(t.ok){let e=await t.json(),a={role:"assistant",content:e.sections.summary||"Processing...",sections:e.sections,timestamp:new Date().toISOString()};n(e=>[...e,a])}}catch(e){console.error("Chat error:",e),n(e=>[...e,{role:"assistant",content:"Service temporarily unavailable. Please try again.",timestamp:new Date().toISOString()}])}finally{m(!1)}},[d,h,p,e]),S=async(e,t)=>{try{let a=await fetch("http://localhost:8400/swarm/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({swarm_type:e,task:t})});if(a.ok){let t=await a.json();g(a=>[...a,{type:"swarm.created",swarm_id:t.swarm_id,swarm_type:e,timestamp:new Date().toISOString()}])}}catch(e){console.error("Swarm deployment failed:",e)}};return(0,s.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-950",children:[(0,s.jsxs)(l.E.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"w-64 bg-slate-900/50 backdrop-blur-xl border-r border-cyan-500/20 p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-8",children:"AGNO SOPHIA"}),(0,s.jsx)("nav",{className:"space-y-2",children:[{id:"chat",label:"Chat",icon:"\uD83D\uDCAC"},{id:"api_health",label:"API Health",icon:"\uD83D\uDD27"},{id:"agent_factory",label:"Agent Factory",icon:"\uD83E\uDD16"},{id:"swarm_monitor",label:"Swarm Monitor",icon:"\uD83D\uDC1D"},{id:"code",label:"Code",icon:"\uD83D\uDCDD"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCCA"}].map(a=>(0,s.jsxs)("button",{onClick:()=>t(a.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ".concat(e===a.id?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-white border-l-4 border-cyan-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,s.jsx)("span",{className:"text-xl",children:a.icon}),(0,s.jsx)("span",{className:"font-medium",children:a.label})]},a.id))}),(0,s.jsx)("div",{className:"mt-auto pt-8",children:(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,s.jsxs)("div",{children:["Session: ",p.slice(0,12),"..."]}),(0,s.jsx)("div",{children:"Models: Together AI + OpenRouter"}),(0,s.jsx)("div",{children:"Pipeline: 6-stage AGNO"})]})})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,s.jsxs)(i.M,{mode:"wait",children:["chat"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.map((e,t)=>(0,s.jsx)(l.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-3xl rounded-2xl p-4 backdrop-blur-md ".concat("user"===e.role?"bg-gradient-to-br from-cyan-600/20 to-cyan-600/10 text-cyan-100 border border-cyan-500/20":"bg-gradient-to-br from-purple-600/20 to-purple-600/10 text-purple-100 border border-purple-500/20"),children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:new Date(e.timestamp).toLocaleTimeString()}),(0,s.jsx)("div",{className:"whitespace-pre-wrap",children:e.content}),e.sections&&(0,s.jsx)(c,{sections:e.sections})]})},t)),(0,s.jsx)("div",{ref:j})]}),(0,s.jsx)("div",{className:"border-t border-white/10 p-4 bg-slate-900/50 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&N(),placeholder:"Ask Sophia anything... (try: 'build a feature for user auth')",className:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 focus:border-cyan-500/40"}),(0,s.jsx)("button",{onClick:N,disabled:h,className:"px-6 py-3 bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700 disabled:from-gray-600 disabled:to-gray-700 rounded-xl text-white font-medium transition-all transform hover:scale-105",children:h?"...":"Send"})]})})]},"chat"),"api_health"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6 overflow-y-auto",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"API Health Status"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:u.map((e,t)=>(0,s.jsx)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*t},className:"p-4 rounded-xl backdrop-blur-md border ".concat("healthy"===e.status?"bg-green-900/20 border-green-500/30":"unhealthy"===e.status?"bg-yellow-900/20 border-yellow-500/30":"bg-red-900/20 border-red-500/30"),children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.service}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("healthy"===e.status?"bg-green-500/20 text-green-400":"unhealthy"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"),children:e.status})]})},t))})]},"health"),"agent_factory"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Agent Factory"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-6",children:["strategy","research","planning","coding","qc_ux","commit_deploy"].map(e=>(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-6 border border-white/10",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 capitalize",children:[e.replace("_"," ")," Swarm"]}),(0,s.jsx)("textarea",{placeholder:"Task for ".concat(e," swarm..."),className:"w-full h-24 bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none mb-4",id:"task-".concat(e)}),(0,s.jsxs)("button",{onClick:()=>{let t=document.getElementById("task-".concat(e));(null==t?void 0:t.value)&&(S(e,t.value),t.value="")},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg text-white font-medium transition-all",children:["Deploy ",e," Swarm"]})]},e))})]},"factory"),"swarm_monitor"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Swarm Activity Monitor"}),(0,s.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:y.map((e,t)=>(0,s.jsxs)(l.E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-cyan-400 font-medium",children:e.swarm_id||e.pipeline_id||"Unknown"}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Type: ",e.type," | Stage: ",e.stage||e.swarm_type||"N/A"]})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"Live"})]}),e.data&&(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-300 font-mono",children:JSON.stringify(e.data,null,2)})]},t))})]},"monitor"),"code"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Code Viewer"}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 font-mono text-sm",children:[(0,s.jsx)("div",{className:"text-gray-400",children:"No active code changes"}),(0,s.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Code generation outputs will appear here after running coding swarms"})]})]},"code"),"analytics"===e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Analytics & Evals"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,s.jsx)(o,{label:"Token Cost (24h)",value:(null==f?void 0:f.token_cost_24h)||"$0.00",trend:(null==f?void 0:f.cost_trend)||"stable"}),(0,s.jsx)(o,{label:"Model Win Rate",value:(null==f?void 0:f.win_rate)||"0%",trend:(null==f?void 0:f.win_trend)||"up"}),(0,s.jsx)(o,{label:"Pipeline Success",value:(null==f?void 0:f.pipeline_success)||"0%",trend:(null==f?void 0:f.pipeline_trend)||"stable"}),(0,s.jsx)(o,{label:"Scout Agreement",value:(null==f?void 0:f.scout_agreement)||"0%",trend:"stable"}),(0,s.jsx)(o,{label:"Judge Confidence",value:(null==f?void 0:f.judge_confidence)||"0%",trend:"up"}),(0,s.jsx)(o,{label:"Active Swarms",value:y.length.toString(),trend:"stable"})]})]},"analytics")]})})]})}function c(e){let{sections:t}=e;return(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[t.actions&&t.actions.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.actions.map((e,t)=>(0,s.jsxs)("span",{className:"px-3 py-1 bg-cyan-600/30 backdrop-blur-sm rounded-full text-xs text-cyan-300 border border-cyan-500/30",children:[e.type," ",e.status&&"(".concat(e.status,")")]},t))}),t.research&&t.research.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Research Results"}),t.research.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-3 border border-white/10",children:[(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:e.title}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[e.source," • ",e.date]})]},t))]}),t.code&&(0,s.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Generated Code"}),(0,s.jsxs)("div",{className:"font-mono text-sm text-green-400",children:[t.code.files.length," file(s) • ",t.code.language]})]}),t.github&&(0,s.jsxs)("div",{className:"bg-green-600/20 backdrop-blur-sm rounded-lg p-3 border border-green-500/30",children:[t.github.pr_url&&(0,s.jsx)("a",{href:t.github.pr_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:underline",children:"View Pull Request →"}),t.github.branch&&(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Branch: ",t.github.branch]})]})]})}function o(e){let{label:t,value:a,trend:r}=e;return(0,s.jsxs)(l.E.div,{whileHover:{scale:1.02},className:"bg-white/5 backdrop-blur-md rounded-xl p-6 border border-white/10",children:[(0,s.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:t}),(0,s.jsx)("div",{className:"text-3xl font-bold text-white",children:a}),(0,s.jsx)("div",{className:"text-sm mt-2 ".concat("up"===r?"text-green-400":"down"===r?"text-red-400":"text-gray-400"),children:"up"===r?"↑":"down"===r?"↓":"→"})]})}}},function(e){e.O(0,[345,293,286,744],function(){return e(e.s=8986)}),_N_E=e.O()}]);