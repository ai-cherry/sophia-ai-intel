(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{6777:function(e,t,r){Promise.resolve().then(r.bind(r,5582))},5582:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(7573),n=r(7653),a=r(6022);function l(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)("checking"),[c,i]=(0,n.useState)(null),[o,h]=(0,n.useState)(!0),u=async()=>{try{let e=await fetch("/api/health");if(e.ok){let r=await e.json();t(r.services||[]),l(r.status),i(new Date)}}catch(e){console.error("Failed to fetch health status:",e),l("unhealthy")}};(0,n.useEffect)(()=>{if(u(),o){let e=setInterval(u,a.v.ui.refreshInterval);return()=>clearInterval(e)}},[o]);let d=e=>{switch(e){case"healthy":return"text-green-400 bg-green-900/30";case"unhealthy":return"text-red-400 bg-red-900/30";default:return"text-gray-400 bg-gray-900/30"}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"API Health Monitor"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Real-time service health monitoring"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>h(!o),className:"px-4 py-2 rounded-lg transition ".concat(o?"bg-green-600/20 text-green-400 border border-green-600/50":"bg-gray-700 text-gray-300"),children:["Auto-refresh: ",o?"ON":"OFF"]}),(0,s.jsx)("button",{onClick:u,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition",children:"Check Now"})]})]}),(0,s.jsx)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 mb-8 border border-purple-500/20",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full ".concat((e=>{switch(e){case"healthy":return"bg-green-500";case"degraded":return"bg-yellow-500";case"unhealthy":return"bg-red-500";default:return"bg-gray-500"}})(r)," animate-pulse")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"System Status"}),(0,s.jsxs)("p",{className:"text-gray-400",children:["healthy"===r&&"All systems operational","degraded"===r&&"Some services are experiencing issues","unhealthy"===r&&"Major service disruption","checking"===r&&"Checking services..."]})]})]}),c&&(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Last checked: ",c.toLocaleTimeString()]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"bg-black/30 backdrop-blur rounded-xl p-6 border border-purple-500/20 hover:border-purple-500/40 transition",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1 break-all",children:e.url})]}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(d(e.status)),children:e.status})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Latency"}),(0,s.jsxs)("span",{className:e.latency<200?"text-green-400":e.latency<500?"text-yellow-400":"text-red-400",children:[e.latency,"ms"]})]}),e.error&&(0,s.jsx)("div",{className:"mt-2 p-2 bg-red-900/20 rounded text-xs text-red-400",children:e.error}),(0,s.jsx)("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full transition-all ".concat("healthy"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(200/e.latency*100,100),"%")}})})]})]},t))}),0===e.length&&"checking"!==r&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD0D"}),(0,s.jsx)("p",{className:"text-gray-400",children:"No services configured"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Configure HEALTH_TARGETS environment variable"})]})]})})}},6022:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});var s=r(3875);let n={api:{dashboard:s.env.NEXT_PUBLIC_API_URL||"http://localhost:3000",swarmOrchestrator:s.env.NEXT_PUBLIC_SWARM_URL||"http://localhost:8100",mcpContext:s.env.NEXT_PUBLIC_MCP_CONTEXT_URL||"http://localhost:8081",mcpResearch:s.env.NEXT_PUBLIC_MCP_RESEARCH_URL||"http://localhost:8085",vectorSearch:s.env.NEXT_PUBLIC_VECTOR_SEARCH_URL||"http://localhost:8086"},ws:{swarm:s.env.NEXT_PUBLIC_SWARM_WS_URL||"ws://localhost:8100",debate:s.env.NEXT_PUBLIC_DEBATE_WS_URL||"ws://localhost:8100"},monitoring:{prometheusUrl:s.env.NEXT_PUBLIC_PROM_URL||"http://localhost:9090",grafanaUrl:s.env.NEXT_PUBLIC_GRAFANA_URL||"http://localhost:3001",grafanaDashboardId:s.env.NEXT_PUBLIC_GRAFANA_DASHBOARD_ID||"sophia-metrics"},healthTargets:[{name:"Swarm Orchestrator",url:"http://localhost:8100/health"},{name:"MCP Context",url:"http://localhost:8081/health"},{name:"MCP Research",url:"http://localhost:8085/health"},{name:"Vector Search",url:"http://localhost:8086/health"}],portkey:{enabled:!!s.env.NEXT_PUBLIC_PORTKEY_API_KEY,virtualKeysConfigured:["OPENAI","ANTHROPIC","DEEPSEEK","QWEN","GROK","GROQ","PERPLEXITY","MISTRAL","HUGGINGFACE"].filter(e=>!!s.env["PORTKEY_VK_".concat(e)])},features:{enableWebSocket:!0,enableDebateMode:!0,enableMetrics:!0,enableAgentFactory:!0,enableSwarmMonitor:!0,autoSubscribeToSwarms:!0},ui:{maxActivityFeedItems:100,maxDebateOutcomes:10,defaultChatMessages:50,refreshInterval:5e3}}},3875:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(3928)},3928:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var i=[],o=!1,h=-1;function u(){o&&s&&(o=!1,s.length?i=s.concat(i):h=-1,i.length&&d())}function d(){if(!o){var e=c(u);o=!0;for(var t=i.length;t;){for(s=i,i=[];++h<t;)s&&s[h].run();h=-1,t=i.length}s=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function x(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new m(e,t)),1!==i.length||o||c(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},l=!0;try{t[e](a,a.exports,s),l=!1}finally{l&&delete r[e]}return a.exports}s.ab="//";var n=s(229);e.exports=n}()}},function(e){e.O(0,[293,286,744],function(){return e(e.s=6777)}),_N_E=e.O()}]);