"use strict";(()=>{var e={};e.id=829,e.ids=[829],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1771:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>i});var s=r(3036),n=r(5736),o=r(5262),l=r(942);let h=process.env.HEALTH_TARGETS?JSON.parse(process.env.HEALTH_TARGETS):[{name:"Swarm Orchestrator",url:"http://localhost:8100/health"},{name:"MCP Context",url:"http://localhost:8081/health"},{name:"MCP Research",url:"http://localhost:8085/health"},{name:"Vector Search",url:"http://localhost:8086/health"}];async function u(e,t=3e3){let r=Date.now();try{let a=new AbortController,s=setTimeout(()=>a.abort(),t),n=await fetch(e,{method:"GET",signal:a.signal,cache:"no-store"});clearTimeout(s);let o=Date.now()-r;if(n.ok)return{status:"healthy",latency:o};return{status:"unhealthy",latency:o,error:`HTTP ${n.status}`}}catch(e){return{status:"unhealthy",latency:Date.now()-r,error:e instanceof Error?e.message:"Unknown error"}}}async function i(){try{let e=await Promise.all(h.map(async e=>{let t=await u(e.url);return{name:e.name,url:e.url,...t}})),t=e.filter(e=>"healthy"===e.status).length,r=e.length;return l.NextResponse.json({status:t===r?"healthy":t>0?"degraded":"unhealthy",timestamp:new Date().toISOString(),services:e,summary:{healthy:t,unhealthy:r-t,total:r}})}catch(e){return l.NextResponse.json({status:"error",error:"Failed to check health",message:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/Users/lynnmusil/sophia-ai-intel-1/apps/sophia-dashboard/src/app/api/health/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:d}=p,y="/api/health/route";function g(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[522,746],()=>r(1771));module.exports=a})();